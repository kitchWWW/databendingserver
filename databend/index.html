<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Data Bending Util</title>
  <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>
  <center>
    <div id="bigTitle" class="bigTitle">Data Bending Util</div>
  </center>
  <div  id="resultsArea" style="display:none">
    <div class="wholeWrapper">
      <div style="width: 100%;">
        <div style="width: 50%; height: 550px; float: left;"> 
          <br>
          <div class="styleBoxOuterRes">
            <div class="styleBoxInnerImgRes">
              <center>
                <div class="resultsBounding">
                  <img src="" id="resimg">
                </div>
                <br>
                <button class="imgbtn" onclick="downloadImg()">Download</button>
              </center>
            </div>
          </div>
        </div>
        <div style="margin-left: 50%; height: 550px;"> 
          <br>
          <div class="styleBoxOuterRes">
            <div class="styleBoxInnerAudRes">
              <center>
                <div class="resultsBounding">
                  <canvas id="waveform" width="350" height="350"></canvas>
                </div>
                <br>
                <button class="audbtn" onclick="downloadAud()">Download</button>
              </center>
            </div>
          </div>
        </div>
      </div>
    </div>
    <center>
      If you like your results, you can <button id="videobtn" class="videobtn" onclick="createVideo()">Create Video</button>
      <br>
      <div class="loaderSpacer2">
        <div class="loaderInfo" id="loaderInfo">
          Video processing... Please check this <a id="videoLink" href="https://databend.brianellissound.com/gen/171086940474910.mp4" target="_blank"> link </a> in about 2 minutes.
        </div>
      </div>
      <div class="medtitle">Upload again</div>
    </center>

  </div>

  <div class="wholeWrapper">
    <div style="width: 100%;">
      <div style="width: 50%; height: 250px; float: left;"> 
        <br>
        <div class="styleBoxOuter">
          <div class="styleBoxInnerImg">
            <center>
              <h1>Upload Image</h1>
              <form id="form1" method="post" enctype="multipart/form-data">
                <input id="file1" type="file" name="file1" accept=".png,.jpg,.jpeg">
              </form>
            </center>
          </div>
        </div>
      </div>
      <div style="margin-left: 50%; height: 250px;"> 
        <br>
        <div class="styleBoxOuter">
          <div class="styleBoxInnerAud">
            <center>
              <h1>Upload Audio</h1>
              <form id="form2" method="post" enctype="multipart/form-data" action="https://databend.brianellissound.com/uploadAUD">
                <input id="file2" type="file" name="file1" accept=".wav">
              </form>
            </center>
          </div>
        </div>
      </div>
    </div>
  </div>

  <center>
    <div class="loaderSpacer">
      <div class="loader" id="loaderThing" style="display:none"></div>
    </div>
  </center>

  <div class="narrowWholeWrapper">
    How this works:
    <ul>
      <li>Images are converted to a square 1024x1024 png, which is then turned into a mono wav file.</li>
      <li>Audio files are converted first to mono wav files, and then either padded or trimmed to be 71 seconds long, before being converted into a square pngs. </li>
    </ul>

    Sample workflow:
    <ol>
      <li>Take a picture</li>
      <li>upload the picture, download the corresponding audio</li>
      <li>put the audio into an audio editor of your choice (Ableton, Audacity, etc.) and make some edits, such as applying reverb, compression, normalization, etc.</li>
      <li>upload the audio, download the corresponding (now chaotic looking) picture </li>
      <li>put the picture into a photo editor such as Photoshop, gimp, etc. and make some edits, such as cropping, luminosity editing, blur, paint bucket fill, etc.</li>
      <li>upload the picture, download the corresponding audio (and repeat from step 3!)</li>
      <li>When you're satisfied, create a video of the output by pressing "create video"</li>
    </ol>

    FAQ:
    <ul>
      <li>File links are not permanent, please download anything you would like to keep.</li>
      <li>Image and sound conversions should take less than ~30 seconds. If it is taking longer, it is most likely broken. Refresh and try again.</li>
      <li>Creating videos should take less than 2 minutes. If it is taking longer, it is most likely broken. Refresh and try again.</li>
      <li>Complete code for this project, including transform functions, can be found <a href="https://github.com/kitchWWW/databendingserver" target="_blank">here</a>.</li>
    </ul>

    If anything is broken, please reach out to me on instagram <a href=" https://www.instagram.com/brianellissound" target="_blank">@brianellissound</a>

    <br><br>
    <center>
      <i>
        Made by <a href="https://brianellissound.com/" target="_blank">Brian Ellis</a></i>
      </center>
    </div>

  </body>
  <script type="text/javascript" src="./script.js"></script>
  </html>

